# Antigravity Agent Rules for rvp-be (RuoYi-Vue-Plus Backend)

> **æ ¸å¿ƒæŒ‡ä»¤**: æ¯æ¬¡å¼€å‘å‰ï¼Œå¿…é¡»å…ˆé˜…è¯»æœ¬æ–‡ä»¶åŠç›¸å…³æ–‡æ¡£ã€‚æ¯æ¬¡å¯¹è¯ç»“æŸåï¼Œå¿…é¡»æ›´æ–°ç›¸å…³æ–‡æ¡£ä»¥ä¿æŒæœ€æ–°çŠ¶æ€ã€‚

---

## æŠ€æœ¯æ ˆ
- **Framework**: Spring Boot 3.x + RuoYi-Vue-Plus
- **ORM**: MyBatis-Plus
- **Security**: Sa-Token
- **Database**: MySQL 8.0+
- **Build**: Maven

---

## æ²Ÿé€šè¯­è¨€
**å§‹ç»ˆä½¿ç”¨ç®€ä½“ä¸­æ–‡**

---

## æ–‡æ¡£ç´¢å¼•

æ‰€æœ‰è¯¦ç»†å¼€å‘è§„èŒƒä½äº `.agent-docs/` ç›®å½•:

### ğŸ“‹ å¼€å‘æµç¨‹ (workflow/)
| æ–‡æ¡£ | ç”¨é€” |
|------|------|
| [bug-fix.md](.agent-docs/workflow/bug-fix.md) | åç«¯ Bug ä¿®å¤æµç¨‹ (å«äº‹åŠ¡ã€æƒé™ã€SQLæ£€æŸ¥) |
| [add-feature.md](.agent-docs/workflow/add-feature.md) | æ·»åŠ æ–°åŠŸèƒ½ (æ•°æ®åº“ä¼˜å…ˆã€è‡ªåº•å‘ä¸Š) |
| [new-business.md](.agent-docs/workflow/new-business.md) | åˆ›å»ºæ–°ä¸šåŠ¡æ¨¡å—å®Œæ•´æŒ‡å— |

### ğŸ—ï¸ æ¶æ„è§„èŒƒ (architecture/)
| æ–‡æ¡£ | ç”¨é€” |
|------|------|
| [layer-structure.md](.agent-docs/architecture/layer-structure.md) | **å››å±‚æ¶æ„** (Controller/Service/Mapper/Domain) |

### ğŸ“ ä»£ç æ¨¡æ¿ (templates/)
> å¾…è¡¥å……: Controller/Service/Mapper/Domain æ¨¡æ¿

### ğŸ“ ç¼–ç è§„èŒƒ (conventions/)
| æ–‡æ¡£ | ç”¨é€” |
|------|------|
| [annotation.md](.agent-docs/conventions/annotation.md) | æ³¨è§£ä½¿ç”¨è§„èŒƒ (æƒé™ã€äº‹åŠ¡ã€æ ¡éªŒã€æ—¥å¿—) |

### âœ… æœ€ä½³å®è·µ (best-practices/)
| æ–‡æ¡£ | ç”¨é€” |
|------|------|
| [transaction.md](.agent-docs/best-practices/transaction.md) | **äº‹åŠ¡ç®¡ç†** (ä¼ æ’­è¡Œä¸ºã€é¿å…å¤§äº‹åŠ¡ã€å¤±æ•ˆåœºæ™¯) |
| [permission.md](.agent-docs/best-practices/permission.md) | **æƒé™æ§åˆ¶** (æ¥å£æƒé™ã€æ•°æ®æƒé™ã€å¤šç§Ÿæˆ·) |

### ğŸ—„ï¸ æ•°æ®åº“è§„èŒƒ (database/)
> å¾…è¡¥å……: è¡¨è®¾è®¡ã€SQL ç¼–å†™è§„èŒƒ

---

## å¼€å‘å‰å¿…è¯»

æ ¹æ®ä»»åŠ¡ç±»å‹ï¼Œé˜…è¯»å¯¹åº”æ–‡æ¡£:

| ä»»åŠ¡ç±»å‹ | å¿…è¯»æ–‡æ¡£ |
|----------|----------|
| ä¿® Bug | `workflow/bug-fix.md` + `best-practices/transaction.md` |
| æ·»åŠ æ–°åŠŸèƒ½ | `workflow/add-feature.md` + `architecture/layer-structure.md` |
| åˆ›å»ºæ–°ä¸šåŠ¡ | `workflow/new-business.md` + æ‰€æœ‰ `architecture/` å’Œ `best-practices/` |

---

## å¼ºåˆ¶è§„åˆ™

1. **æ•°æ®åº“ä¼˜å…ˆ**: ä»»ä½•åŠŸèƒ½å¼€å‘å‰ï¼Œå…ˆè®¾è®¡æ•°æ®åº“è¡¨ç»“æ„
2. **è‡ªåº•å‘ä¸Š**: Domain â†’ Mapper â†’ Service â†’ Controller
   çš„é¡ºåºå¼€å‘
3. **äº‹åŠ¡å¿…å¸¦**: `@Transactional(rollbackFor = Exception.class)`
4. **æƒé™å¿…æ£€**: æ‰€æœ‰å†™æ“ä½œå¿…é¡»æœ‰ `@SaCheckPermission`
5. **æ—¥å¿—å¿…è®°**: æ‰€æœ‰å¢åˆ æ”¹æ“ä½œå¿…é¡»æœ‰ `@Log`
6. **æ•°æ®æƒé™**: æ¶‰åŠç”¨æˆ·æ•°æ®çš„æŸ¥è¯¢å¿…é¡»æ£€æŸ¥æ•°æ®æƒé™
7. **ä¸¥ç¦è·¨å±‚è°ƒç”¨**: Controller ä¸èƒ½ç›´æ¥è°ƒç”¨ Mapper
8. **æ–‡æ¡£åŒæ­¥**: æ¯æ¬¡å¯¹è¯åæ›´æ–°ç›¸å…³æ–‡æ¡£

---

## ç‰ˆæœ¬è®°å½•
- **2025-12-13**: åˆå§‹åŒ–åç«¯æ–‡æ¡£ä½“ç³»
